{"version":3,"file":"funct.js","sourceRoot":"","sources":["../../../../src/module/shared/funct.ts"],"names":[],"mappings":";;AAAA,2BAA2B;AAE3B;IAEW,MAAM,CAAC,eAAe,CAAC,GAAW;QACrC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACrB,OAAO,EAAE,CAAC;SACb;QAED,OAAO,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;IAChD,CAAC;IAEM,MAAM,CAAC,WAAW,CAAC,KAAa,EAAE,EAAW;QAChD,0DAA0D;QAC1D,IAAI,CAAC,EAAE,EAAE;YACL,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACpC,MAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,QAAQ,CAAC,QAAQ,GAAG,EAAE,CAAC;YACvB,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACpC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClC,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC/B;QAED,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;CAEJ;AA7BD,sCA6BC","sourcesContent":["import * as Url from 'url';\n\nexport class UtilFunctions {\n\n    public static hideCredentials(uri: string): string {\n        if (!uri || !uri.length) {\n            return '';\n        }\n\n        return uri.replace(/\\/\\/.*@/, '//***:***@');\n    }\n\n    public static getMongoUri(dbUrl: string, db?: string) {\n        // If no db is provided we wannot append the db in the url\n        if (!db) {\n            return dbUrl;\n        }\n\n        const splitUri = dbUrl.split('://');\n        const splitUri2 = splitUri[1].split('/');\n        if (splitUri2.length === 2) {\n            const parsedDb = Url.parse(splitUri2[1]);\n            parsedDb.pathname = db;\n            splitUri2[1] = Url.format(parsedDb);\n            splitUri[1] = splitUri2.join('/');\n            return splitUri.join('://');\n        }\n\n        return [dbUrl, db].join('/');\n    }\n\n}\n"]}